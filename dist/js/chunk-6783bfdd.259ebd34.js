(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6783bfdd"],{"4e82":function(t,e,n){"use strict";var r=n("23e7"),i=n("1c0b"),a=n("7b0b"),s=n("d039"),o=n("b301"),u=[],c=u.sort,l=s((function(){u.sort(void 0)})),f=s((function(){u.sort(null)})),m=o("sort"),d=l||!f||m;r({target:"Array",proto:!0,forced:d},{sort:function(t){return void 0===t?c.call(a(this)):c.call(a(this),i(t))}})},5652:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"py-5"},[n("h1",[t._v("餐廳後台")]),n("AdminNav"),n("b-container",{staticClass:"py-5"},[n("AdminCategories",{attrs:{initCategories:t.initCategories},on:{"after-submit-edit":t.afterSubmitEdit,"after-submit-create":t.afterSubmitCreate,"after-click-delete":t.afterClickDelete}})],1),n("br"),n("br"),n("a",{attrs:{href:"javascript:history.back()"}},[t._v("回上一頁")])],1)},i=[],a=(n("4e82"),n("d3b7"),n("96cf"),n("e04c")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t.isCreate?n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmitCreate(e)}}},[n("b-form-input",{attrs:{placeholder:"Create New Category",required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),n("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Submit")]),n("b-button",{attrs:{type:"button",variant:"warning"},on:{click:function(e){return e.preventDefault(),t.closeWindow(e)}}},[t._v("Close")])],1):t._e(),t.isEdit?n("b-form",{on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.onSubmitEdit(t.editItem.value)}}},[n("b-form-input",{attrs:{placeholder:"Edit "+t.editItem.text,required:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),n("b-button",{attrs:{type:"submit",variant:"success"}},[t._v("Submit")]),n("b-button",{attrs:{type:"button",variant:"info"},on:{click:function(e){return e.preventDefault(),t.setCreate(e)}}},[t._v("Create New Category")]),n("b-button",{attrs:{type:"button",variant:"warning"},on:{click:function(e){return e.preventDefault(),t.closeWindow(e)}}},[t._v("Close")])],1):t._e()],1),n("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[n("b-thead",{attrs:{"head-variant":"dark"}},[n("b-th",{attrs:{colspan:"1"}},[t._v("#")]),n("b-th",{attrs:{colspan:"1"}},[t._v("Category Name")]),n("b-th",{attrs:{colspan:"2"}},[t._v("#")])],1),n("b-tbody",t._l(this.initCategories,(function(e){return n("b-tr",{key:e.value},[n("b-td",{staticClass:"text-center"},[t._v(t._s(e.value))]),n("b-td",{staticClass:"text-center"},[t._v(t._s(e.text))]),n("b-td",{staticClass:"text-center"},[n("b-button-group",[n("b-button",{attrs:{href:"categories/"+e.value,variant:"warning"},on:{click:function(n){return n.preventDefault(),t.setEdit(e.value)}}},[t._v("Edit")]),n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.onClickDelete(e.value)}}},[t._v("Delete")])],1)],1)],1)})),1)],1)],1)},o=[],u=(n("4de4"),n("b0c0"),{props:{initCategories:{type:Array}},data:function(){return{items:[],isCreate:!1,isEdit:!1,editItem:{},form:{name:name}}},created:function(){this.items=this.initCategories.sort((function(t,e){return t.value-e.value}))},methods:{setEdit:function(t){var e=this.initCategories.filter((function(e){return e.value===t}));1===e.length&&(this.editItem=e[0],this.isEdit=!0)},setCreate:function(){this.isEdit=!1,this.isCreate=!0},closeWindow:function(){this.isEdit?this.isEdit=!1:this.isCreate=!1},onSubmitEdit:function(t){if(""!==this.form.name){var e=JSON.stringify(this.form);this.$emit("after-submit-edit",e,t),this.isEdit=!1,this.form.name=""}else alert("Do you forget to input Category?")},onSubmitCreate:function(){if(""!==this.form.name){var t=JSON.stringify(this.form);this.$emit("after-submit-create",t),this.isCreate=!1,this.form.name=""}else alert("Do you forget to input Category?")},onClickDelete:function(t){this.$emit("after-click-delete",t)}},watch:{initCategories:function(t){this.initCategories=t}}}),c=u,l=n("2877"),f=Object(l["a"])(c,s,o,!1,null,null,null),m=f.exports,d=n("365c"),b=new d["a"],v={components:{AdminNav:a["a"],AdminCategories:m},data:function(){return{initCategories:[]}},created:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(b.getAdminCategories());case 2:t=e.sent,this.initCategories=t.sort((function(t,e){return t.value-e.value}));case 4:case"end":return e.stop()}}),null,this)},methods:{afterSubmitEdit:function(t,e){var n,r;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(b.putAdminCategory(t,e));case 2:if(n=i.sent,"success"!==n.status){i.next=8;break}return i.next=6,regeneratorRuntime.awrap(b.getAdminCategories());case 6:r=i.sent,this.initCategories=r.sort((function(t,e){return t.value-e.value}));case 8:case"end":return i.stop()}}),null,this)},afterSubmitCreate:function(t){var e,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(b.postAdminCategory(t));case 2:if(e=r.sent,"success"!==e.status){r.next=8;break}return r.next=6,regeneratorRuntime.awrap(b.getAdminCategories());case 6:n=r.sent,this.initCategories=n.sort((function(t,e){return t.value-e.value}));case 8:case"end":return r.stop()}}),null,this)},afterClickDelete:function(t){var e,n;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(b.deleteAdminCategory(t));case 2:if(e=r.sent,"success"!==e.status){r.next=8;break}return r.next=6,regeneratorRuntime.awrap(b.getAdminCategories());case 6:n=r.sent,this.initCategories=n.sort((function(t,e){return t.value-e.value}));case 8:case"end":return r.stop()}}),null,this)}}},p=v,h=Object(l["a"])(p,r,i,!1,null,null,null);e["default"]=h.exports},e04c:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-nav",{attrs:{tabs:"",justified:""}},t._l(t.tabs,(function(e){return n("b-nav-item",{key:e.id,attrs:{href:e.path}},[t._v(" "+t._s(e.title)+" ")])})),1)},i=[],a=n("c437"),s=n.n(a),o={data:function(){return{tabs:[{id:s()(),title:"New Restaurant",path:"/admin/restaurants/create"},{id:s()(),title:"Categories",path:"/admin/categories"},{id:s()(),title:"Users Information",path:"/admin/users"},{id:s()(),title:"到餐廳前台",path:"/restaurants"}]}}},u=o,c=n("2877"),l=Object(c["a"])(u,r,i,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-6783bfdd.259ebd34.js.map