(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0973c44"],{"4e82":function(t,e,n){"use strict";var s=n("23e7"),r=n("1c0b"),i=n("7b0b"),a=n("d039"),u=n("b301"),c=[],o=c.sort,l=a((function(){c.sort(void 0)})),d=a((function(){c.sort(null)})),m=u("sort"),f=l||!d||m;s({target:"Array",proto:!0,forced:f},{sort:function(t){return void 0===t?o.call(i(this)):o.call(i(this),r(t))}})},6135:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"py-5"},[n("h1",[t._v("餐廳後台")]),n("AdminNav"),t.initUsers?n("b-container",{staticClass:"py-5"},[n("AdminUsersTable",{attrs:{initUsers:t.initUsers},on:{"after-submit-IsAdmin":t.afterSubmitIsAdmin}})],1):t._e(),n("br"),n("br"),n("a",{attrs:{href:"javascript:history.back()"}},[t._v("回上一頁")])],1)},r=[],i=(n("4e82"),n("d3b7"),n("96cf"),n("e04c")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-table-simple",{attrs:{hover:"",small:"","caption-top":"",responsive:""}},[n("b-thead",{attrs:{"head-variant":"dark"}},[n("b-th",{attrs:{colspan:"1"}},[t._v("#")]),n("b-th",{attrs:{colspan:"1"}},[t._v("Email")]),n("b-th",{attrs:{colspan:"1"}},[t._v("Role")]),n("b-th",{attrs:{colspan:"1"}},[t._v("#")])],1),n("b-tbody",t._l(this.initUsers,(function(e){return n("b-tr",{key:e.id},[n("b-td",{staticClass:"text-center"},[t._v(t._s(e.id))]),n("b-td",{staticClass:"text-center"},[t._v(t._s(e.email))]),n("b-td",{staticClass:"text-center"},[t._v(t._s(t._f("isAdmin")(e.isAdmin)))]),n("b-td",{staticClass:"text-center"},[n("b-button-group",[n("b-button",{attrs:{type:"button",variant:"warning"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.submitAuthority(e.id,e.isAdmin)}}},[t._v(" "+t._s(t._f("setAuthority")(e.isAdmin))+" ")])],1)],1)],1)})),1)],1)],1)},u=[],c={props:{initUsers:{type:Array}},filters:{isAdmin:function(t){return t?"Admin":"User"},setAuthority:function(t){return t?"Set as User":"Set as Admin"}},data:function(){return{form:{isAdmin:"false"}}},methods:{submitAuthority:function(t,e){confirm("Confirm to Change user's status"),this.form.isAdmin=e?null:"true";var n=JSON.stringify(this.form);this.$emit("after-submit-IsAdmin",t,n)}},watch:{initUsers:function(t){this.initUsers=t}}},o=c,l=n("2877"),d=Object(l["a"])(o,a,u,!1,null,null,null),m=d.exports,f=n("365c"),b=new f["a"],h={components:{AdminNav:i["a"],AdminUsersTable:m},data:function(){return{initUsers:[]}},created:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(b.getAdminUsers());case 2:t=e.sent,this.initUsers=t.sort((function(t,e){return t.id-e.id}));case 4:case"end":return e.stop()}}),null,this)},methods:{afterSubmitIsAdmin:function(t,e){var n,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(b.putAdminUser(t,e));case 2:if(n=r.sent,"success"!==n.status){r.next=8;break}return r.next=6,regeneratorRuntime.awrap(b.getAdminUsers());case 6:s=r.sent,this.initUsers=s.sort((function(t,e){return t.id-e.id}));case 8:case"end":return r.stop()}}),null,this)}}},p=h,v=Object(l["a"])(p,s,r,!1,null,null,null);e["default"]=v.exports},e04c:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-nav",{attrs:{tabs:"",justified:""}},t._l(t.tabs,(function(e){return n("b-nav-item",{key:e.id,attrs:{href:e.path}},[t._v(" "+t._s(e.title)+" ")])})),1)},r=[],i=n("c437"),a=n.n(i),u={data:function(){return{tabs:[{id:a()(),title:"New Restaurant",path:"/admin/restaurants/create"},{id:a()(),title:"Categories",path:"/admin/categories"},{id:a()(),title:"Users Information",path:"/admin/users"},{id:a()(),title:"到餐廳前台",path:"/restaurants"}]}}},c=u,o=n("2877"),l=Object(o["a"])(c,s,r,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-e0973c44.1f8f3bfc.js.map