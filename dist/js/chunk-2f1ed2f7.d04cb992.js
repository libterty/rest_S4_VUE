(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f1ed2f7"],{"22ab":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{staticClass:"py-5"},[n("NavTabs"),n("h1",{staticClass:"mt-5"},[e._v(" 美食達人 ")]),n("hr"),n("div",{staticClass:"row text-center"},e._l(e.users,(function(t){return n("UsersTop",{key:t.id,attrs:{initUser:t},on:{"after-add-following":e.afterAddFollowing,"after-remove-following":e.afterRemoveFollowing}})})),1)],1)},s=[],o=(n("4de4"),n("d3b7"),n("96cf"),n("8bb1")),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"col-md-6 col-lg-4"},[n("b-card-group",{attrs:{deck:""}},[n("b-card",{staticClass:"mb-2",attrs:{title:e.user.name,"img-src":e._f("avoidNull")(e.user.image),"img-alt":e.user.name,"img-top":""}},[n("span",{staticClass:"badge badge-secondary"},[e._v(" 追蹤人數 : "+e._s(e.user.FollowerCount)+" ")]),n("b-card-footer",{staticClass:"mt-3"},[e.user.isFollowed?n("b-button",{attrs:{type:"button",variant:"danger"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.removeFollowing(e.user.id)}}},[e._v(" 移除追蹤 ")]):e._e(),e.user.isFollowed?e._e():n("b-button",{attrs:{type:"button",variant:"success"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addFollowing(e.user.id)}}},[e._v(" 追蹤 ")])],1)],1)],1)],1)},i=[],u={props:{initUser:{required:!0}},filters:{avoidNull:function(e){return e||"#"}},data:function(){return{user:this.initUser}},methods:{addFollowing:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("after-add-following",e);case 1:case"end":return t.stop()}}),null,this)},removeFollowing:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("after-remove-following",e);case 1:case"end":return t.stop()}}),null,this)}}},l=u,c=(n("2b09"),n("2877")),d=Object(c["a"])(l,a,i,!1,null,"8ac206ae",null),f=d.exports,w=n("365c"),p=new w["a"],h={components:{NavTabs:o["a"],UsersTop:f},data:function(){return{users:[],error:""}},created:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(p.getTopUsers());case 3:this.users=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.error=e.t0.message;case 9:case"end":return e.stop()}}),null,this,[[0,6]])},methods:{afterAddFollowing:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(p.postFollow(e));case 2:this.users=this.users.filter((function(t){return t.id!==e?t:t.isFollowed=!t.isFollowed}));case 3:case"end":return t.stop()}}),null,this)},afterRemoveFollowing:function(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(p.deleteFollow(e));case 2:this.users=this.users.filter((function(t){return t.id!==e?t:(t&&(t.isFollowed=!t.isFollowed),t)}));case 3:case"end":return t.stop()}}),null,this)}},watch:{users:function(e){this.users=e}}},g=h,m=Object(c["a"])(g,r,s,!1,null,null,null);t["default"]=m.exports},"2b09":function(e,t,n){"use strict";var r=n("a85f"),s=n.n(r);s.a},a85f:function(e,t,n){}}]);
//# sourceMappingURL=chunk-2f1ed2f7.d04cb992.js.map