{"version":3,"sources":["webpack:///./src/views/UsersTop.vue?8423","webpack:///./src/components/UsersTop.vue?d052","webpack:///src/components/UsersTop.vue","webpack:///./src/components/UsersTop.vue?815c","webpack:///./src/components/UsersTop.vue?361a","webpack:///src/views/UsersTop.vue","webpack:///./src/views/UsersTop.vue?41fd","webpack:///./src/views/UsersTop.vue","webpack:///./src/components/UsersTop.vue?25b6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","user","key","id","attrs","on","afterAddFollowing","afterRemoveFollowing","staticRenderFns","name","_f","image","_s","FollowerCount","$event","stopPropagation","preventDefault","removeFollowing","_e","isFollowed","addFollowing","component","users","error","uId"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,QAAQ,CAACF,EAAG,WAAWA,EAAG,KAAK,CAACE,YAAY,QAAQ,CAACN,EAAIO,GAAG,YAAYH,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,mBAAmBN,EAAIQ,GAAIR,EAAS,OAAE,SAASS,GAAM,OAAOL,EAAG,WAAW,CAACM,IAAID,EAAKE,GAAGC,MAAM,CAAC,SAAWH,GAAMI,GAAG,CAAC,sBAAsBb,EAAIc,kBAAkB,yBAAyBd,EAAIe,2BAA0B,IAAI,IAC3bC,EAAkB,G,4CCDlB,EAAS,WAAa,IAAIhB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,eAAe,CAACQ,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,SAAS,CAACE,YAAY,OAAOM,MAAM,CAAC,MAAQZ,EAAIS,KAAKQ,KAAK,UAAUjB,EAAIkB,GAAG,YAAPlB,CAAoBA,EAAIS,KAAKU,OAAO,UAAUnB,EAAIS,KAAKQ,KAAK,UAAU,KAAK,CAACb,EAAG,OAAO,CAACE,YAAY,yBAAyB,CAACN,EAAIO,GAAG,WAAWP,EAAIoB,GAAGpB,EAAIS,KAAKY,eAAe,OAAOjB,EAAG,gBAAgB,CAACE,YAAY,QAAQ,CAAEN,EAAIS,KAAe,WAAEL,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAO,SAAS,QAAU,UAAUC,GAAG,CAAC,MAAQ,SAASS,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBxB,EAAIyB,gBAAgBzB,EAAIS,KAAKE,OAAO,CAACX,EAAIO,GAAG,YAAYP,EAAI0B,KAAO1B,EAAIS,KAAKkB,WAA+M3B,EAAI0B,KAAvMtB,EAAG,WAAW,CAACQ,MAAM,CAAC,KAAO,SAAS,QAAU,WAAWC,GAAG,CAAC,MAAQ,SAASS,GAAyD,OAAjDA,EAAOC,kBAAkBD,EAAOE,iBAAwBxB,EAAI4B,aAAa5B,EAAIS,KAAKE,OAAO,CAACX,EAAIO,GAAG,WAAoB,IAAI,IAAI,IAAI,IAC16B,EAAkB,GCsCtB,GACE,MAAF,CACI,SAAJ,CACM,UAAN,IAGE,QAAF,CACI,UADJ,SACA,GACM,OAAN,SAIE,KAZF,WAaI,MAAJ,CACM,KAAN,gBAGE,QAAF,CACI,aADJ,SACA,GADA,kFAEA,oCAFA,gDAII,gBAJJ,SAIA,GAJA,kFAKA,uCALA,kDCxDkV,I,wBCQ9UsB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oBCIf,aAEA,GACE,WAAF,CACI,QAAJ,OACI,SAAJ,GAEE,KALF,WAMI,MAAJ,CACM,MAAN,GACM,MAAN,KAGE,QAXF,+IAaA,iBAbA,OAaY5B,KAAK6B,MAbjB,yDAeY7B,KAAK8B,MAAQ,EAAzB,WAfA,wDAkBE,QAAF,CACI,kBADJ,SACA,GADA,2HAEA,iBAFA,OAGA,0CACgB,OAAItB,EAAKE,KAAOqB,EAChC,EAEA,8BAPA,gDAWI,qBAXJ,SAWA,GAXA,2HAYA,mBAZA,OAaA,0CACgB,OAAIvB,EAAKE,KAAOqB,EAChC,GAEA,IACoB,EAApB,0BAEA,MApBA,iDAyBE,MAAF,CACI,MAAJ,YACM,KAAN,WCtEkV,ICO9U,EAAY,eACd,EACAjC,EACAiB,GACA,EACA,KACA,KACA,MAIa,e,6CClBf,yBAAue,EAAG,G","file":"js/chunk-2f1ed2f7.8cf6ced0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-container',{staticClass:\"py-5\"},[_c('NavTabs'),_c('h1',{staticClass:\"mt-5\"},[_vm._v(\" 美食達人 \")]),_c('hr'),_c('div',{staticClass:\"row text-center\"},_vm._l((_vm.users),function(user){return _c('UsersTop',{key:user.id,attrs:{\"initUser\":user},on:{\"after-add-following\":_vm.afterAddFollowing,\"after-remove-following\":_vm.afterRemoveFollowing}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6 col-lg-4\"},[_c('b-card-group',{attrs:{\"deck\":\"\"}},[_c('b-card',{staticClass:\"mb-2\",attrs:{\"title\":_vm.user.name,\"img-src\":_vm._f(\"avoidNull\")(_vm.user.image),\"img-alt\":_vm.user.name,\"img-top\":\"\"}},[_c('span',{staticClass:\"badge badge-secondary\"},[_vm._v(\" 追蹤人數 : \"+_vm._s(_vm.user.FollowerCount)+\" \")]),_c('b-card-footer',{staticClass:\"mt-3\"},[(_vm.user.isFollowed)?_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"danger\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.removeFollowing(_vm.user.id)}}},[_vm._v(\" 移除追蹤 \")]):_vm._e(),(!_vm.user.isFollowed)?_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"success\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(_vm.user.id)}}},[_vm._v(\" 追蹤 \")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"col-md-6 col-lg-4\">\n        <b-card-group deck>\n            <b-card\n                :title=\"user.name\"\n                :img-src=\"user.image | avoidNull\"\n                :img-alt=\"user.name\"\n                img-top\n                class=\"mb-2\"\n            >\n                <span class=\"badge badge-secondary\">\n                    追蹤人數 : {{user.FollowerCount}}\n                </span>\n\n                <b-card-footer class=\"mt-3\">\n                    <b-button \n                        type=\"button\"\n                        @click.stop.prevent=\"removeFollowing(user.id)\"\n                        v-if=\"user.isFollowed\"\n                        variant=\"danger\"\n                    >\n                        移除追蹤\n                    </b-button>\n                    <b-button \n                        type=\"button\"\n                        @click.stop.prevent=\"addFollowing(user.id)\"\n                        v-if=\"!user.isFollowed\"\n                        variant=\"success\"\n                    >\n                        追蹤\n                    </b-button>\n                </b-card-footer>\n            </b-card>\n        </b-card-group>\n    </div>\n</template>\n\n<script>\n\nexport default {\n    props: {\n        initUser: {\n            required: true\n        }\n    },\n    filters: {\n        avoidNull(img) {\n            if(!img) return '#';\n            return img;\n        }\n    },\n    data() {\n        return {\n            user: this.initUser\n        }\n    },\n    methods: {\n        async addFollowing(uId) {\n            this.$emit('after-add-following', uId);\n        },\n        async removeFollowing(uId) {\n            this.$emit('after-remove-following', uId);\n        }\n    }\n}\n</script>\n\n<style scoped>\nimg {\n    min-height: 348px;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersTop.vue?vue&type=template&id=8ac206ae&scoped=true&\"\nimport script from \"./UsersTop.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersTop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UsersTop.vue?vue&type=style&index=0&id=8ac206ae&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ac206ae\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <b-container class=\"py-5\">\n        <NavTabs/>\n        <h1 class=\"mt-5\">\n        美食達人\n        </h1>\n        <hr>\n        <div class=\"row text-center\">\n            <UsersTop \n                v-for=\"user in users\"\n                :key=\"user.id\"     \n                :initUser=\"user\"\n                @after-add-following=\"afterAddFollowing\"\n                @after-remove-following=\"afterRemoveFollowing\"\n            />\n        </div>\n    </b-container>\n</template>\n\n<script>\nimport NavTabs from '../components/NavTabs.vue';\nimport UsersTop from '../components/UsersTop.vue';\nimport Request from '../api';\nconst request = new Request();\n\nexport default {\n    components: {\n        NavTabs,\n        UsersTop\n    },\n    data() {\n        return {\n            users: [],\n            error: ''\n        }\n    },\n    async created() {\n        try {\n            this.users = await request.getTopUsers();\n        } catch (error) {\n            this.error = error.message;\n        }\n    },\n    methods: {\n        async afterAddFollowing(uId) {\n            await request.postFollow(uId);\n            this.users = this.users.filter(user => {\n                if (user.id !== uId) {\n                    return user;\n                } else {\n                    return user.isFollowed = !user.isFollowed;\n                }\n            });\n        },\n        async afterRemoveFollowing(uId) {\n            await request.deleteFollow(uId);\n            this.users = this.users.filter(user => {\n                if (user.id !== uId) {\n                    return user;\n                } else {\n                    if (user) {\n                        user.isFollowed = !user.isFollowed;\n                    }\n                    return user;\n                }\n            });\n        }\n    },\n    watch: {\n        users: function(updateData) {\n            this.users = updateData;\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UsersTop.vue?vue&type=template&id=60312884&\"\nimport script from \"./UsersTop.vue?vue&type=script&lang=js&\"\nexport * from \"./UsersTop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTop.vue?vue&type=style&index=0&id=8ac206ae&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UsersTop.vue?vue&type=style&index=0&id=8ac206ae&scoped=true&lang=css&\""],"sourceRoot":""}